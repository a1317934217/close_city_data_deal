# coding:utf-8
"""
@file: visualization_selfnetwork.py
@author: wu hao
@time: 2022/9/26 21:38
@env: 封城数据处理
@desc:
@ref:
"""
import matplotlib
import pandas as pd
import csv
import datetime
import networkx as nx
import numpy as np
import pandas as pd
# coding=utf-8
from matplotlib import pyplot as plt
from matplotlib.font_manager import FontProperties
from matplotlib.ticker import FuncFormatter, MaxNLocator
import matplotlib.pyplot as plt
from matplotlib.font_manager import FontProperties
from matplotlib.ticker import FuncFormatter, MaxNLocator
# 根据路径画图
from numpy import array
from sklearn.preprocessing import MinMaxScaler

#石家庄一阶
first_average = [4.217948717948718, 3.0128205128205128, 3.3974358974358974, 2.5384615384615383, 1.0666666666666667, 2.141025641025641, 1.8717948717948718, 1.4615384615384615, 1.5454545454545454, 1.5454545454545454, 1.4393939393939394, 1.3484848484848484, 1.2181818181818183, 1.2181818181818183, 1.3272727272727274, 1.1666666666666667, 1.2, 1.1666666666666667, 1.2, 1.3636363636363635, 1.4444444444444444, 1.393939393939394, 1.4727272727272727, 1.3636363636363635, 1.5272727272727273, 1.0363636363636364, 1.3484848484848484, 1.303030303030303, 1.0, 1.303030303030303, 1.0888888888888888, 1.641025641025641, 1.5256410256410255, 1.5256410256410255, 1.5256410256410255, 1.641025641025641, 1.641025641025641, 1.2564102564102564, 1.641025641025641, 1.2564102564102564, 1.3333333333333333, 1.2424242424242424, 1.3636363636363635, 1.5, 1.8076923076923077, 1.564102564102564, 1.4615384615384615, 2.08974358974359, 2.128205128205128, 2.128205128205128, 2.128205128205128, 2.282051282051282, 2.41025641025641, 2.41025641025641, 2.6923076923076925, 2.7564102564102564, 2.7564102564102564, 3.3076923076923075, 2.8974358974358974, 2.5641025641025643, 3.128205128205128, 2.6923076923076925, 2.91025641025641, 3.0128205128205128, 3.2435897435897436, 2.8974358974358974, 3.371794871794872, 3.0128205128205128, 3.0128205128205128, 3.0128205128205128, 3.3076923076923075, 3.4358974358974357, 3.08974358974359, 3.3076923076923075, 3.2435897435897436, 3.5256410256410255, 3.5256410256410255, 3.5256410256410255, 3.58974358974359, 3.371794871794872, 3.5256410256410255, 3.5256410256410255, 3.4615384615384617, 3.5256410256410255, 3.6923076923076925, 3.8461538461538463, 3.5384615384615383, 4.012820512820513, 3.5256410256410255, 3.8076923076923075, 3.5256410256410255, 4.153846153846154, 5.089743589743589, 4.6923076923076925, 4.833333333333333, 4.769230769230769, 4.397435897435898, 4.397435897435898, 4.397435897435898, 4.564102564102564, 3.8333333333333335, 3.9871794871794872, 3.9871794871794872, 4.115384615384615, 3.9615384615384617, 4.397435897435898, 4.564102564102564, 4.089743589743589, 4.564102564102564, 4.115384615384615, 4.128205128205129, 3.9871794871794872, 4.256410256410256, 4.256410256410256, 3.9615384615384617, 4.256410256410256, 3.8461538461538463, 3.9615384615384617, 4.423076923076923, 4.910256410256411, 7.205128205128205, 6.102564102564102, 6.538461538461538, 5.641025641025641, 5.641025641025641, 5.0, 4.564102564102564, 4.397435897435898]
first_degree = [10, 8, 10, 7, 3, 5, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 6, 7, 6, 7, 7, 6, 7, 7, 7, 7, 8, 7, 7, 7, 8, 8, 7, 8, 7, 9, 9, 9, 8, 8, 9, 9, 8, 9, 9, 9, 8, 10, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 10, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 11, 11, 10, 10, 11, 10, 10, 9]
first_edge_number = [40, 31, 34, 28, 10, 24, 21, 19, 18, 18, 17, 16, 13, 13, 14, 13, 12, 13, 12, 14, 13, 16, 15, 14, 16, 13, 16, 15, 14, 15, 12, 18, 17, 17, 17, 18, 18, 16, 18, 16, 17, 14, 14, 17, 20, 20, 19, 23, 24, 24, 24, 25, 27, 27, 28, 29, 29, 34, 30, 29, 32, 28, 30, 31, 33, 30, 33, 31, 31, 31, 33, 35, 32, 33, 33, 35, 35, 35, 36, 34, 35, 35, 34, 35, 36, 37, 35, 38, 35, 37, 35, 39, 46, 43, 44, 43, 41, 41, 41, 42, 37, 38, 38, 39, 38, 41, 42, 39, 42, 39, 39, 38, 40, 40, 38, 40, 37, 38, 41, 44, 57, 52, 54, 49, 49, 45, 42, 41]
first_nature_connecty = [4.594697943773412, 3.4784332105882894, 3.916980433008902, 2.965913906299831, 0.9588132933130848, 2.469971969709056, 2.120325946256966, 1.8638209671316526, 1.8760686386285457, 1.8760686386285457, 1.7813083952379178, 1.6526899528081183, 1.2800644381113555, 1.2800644381113595, 1.4467618238853468, 1.0416049293037337, 1.0392364051234324, 1.041604929303735, 1.0392364051234317, 1.4176902520797485, 1.4404127089248757, 1.5194801097396085, 1.5373073055890685, 1.4032153320142744, 1.8244608843836336, 1.3566178661263544, 1.6526899528081183, 1.3848382948793148, 1.3268234078671977, 1.3848382948793148, 1.3750533845922097, 1.523754433415344, 1.3998881978429942, 1.3998881978429942, 1.3998881978429942, 1.5237544334153441, 1.5237544334153441, 1.3452980337466525, 1.5237544334153441, 1.3452980337466525, 1.4716980796550387, 1.1711711513451042, 1.3912317993185748, 1.5702300040267594, 1.6667800184369985, 1.7075906840382247, 1.604454748082246, 2.1206150246250264, 2.2710628087169416, 2.239600345262844, 2.2396003452628452, 2.361547071967609, 2.8341939261871882, 2.834193926187189, 2.8930421039692695, 3.109176399549967, 3.1091763995499555, 3.8695776942095694, 3.2167447150776423, 3.27260206086063, 3.512039615089946, 2.8930421039692673, 3.214029588106907, 3.386573237513853, 3.6401662077095693, 3.246317005044428, 3.6192178627947684, 3.386573237513853, 3.3865732375138484, 3.3865732375138484, 3.752940243379523, 4.052746793853065, 3.5934894783222626, 3.752940243379522, 3.657269254262062, 4.038171938227013, 4.038171938227018, 4.038171938227013, 4.153392447971374, 3.8640655076432284, 4.038171938227013, 4.038171938227013, 3.8202555910508234, 4.038171938227013, 4.094878069484244, 4.18284613372028, 3.9256727041162653, 4.2908414735713345, 4.038171938227013, 4.236968316853311, 4.038171938227018, 4.467084745556345, 5.261023369203942, 5.023841788734133, 5.160931054924758, 4.958217220848044, 4.853616012010375, 4.853616012010375, 4.853616012010376, 4.925954813345563, 4.275735707630473, 4.384474279143508, 4.384474279143512, 4.528311510843952, 4.421860673412264, 4.8319543150942055, 4.925954813345563, 4.473404072434467, 4.910428482689487, 4.502815079992716, 4.553467243427595, 4.362613609510441, 4.66100909221053, 4.661009092210535, 4.3269102258913525, 4.661009092210529, 4.18284613372028, 4.3269102258913525, 4.760928000401193, 5.116263591328644, 6.6549461322117605, 6.154513744385182, 6.2865978287240045, 5.708091007230236, 5.748023598615255, 5.279189161594368, 4.925954813345563, 4.831954315094207]



#石家庄二阶
second_average =  [2.4622641509433962, 1.6122448979591837, 1.7423469387755102, 1.933673469387755, 0.42073170731707316, 0.8252525252525252, 0.8239795918367347, 0.9850980392156863, 1.2202380952380953, 0.8996598639455783, 1.1700680272108843, 0.9455782312925171, 1.326241134751773, 1.3385753931544866, 1.3117483811285846, 1.5666666666666667, 1.4119601328903655, 1.4070707070707071, 1.4291754756871036, 1.419661733615222, 1.5338266384778012, 1.3343434343434344, 1.3979797979797979, 1.4367015098722415, 1.3594080338266386, 1.6832779623477299, 1.7898989898989899, 1.6405919661733614, 0.7153931339977851, 0.7008456659619451, 0.6998892580287929, 0.9907493061979649, 1.0424242424242425, 0.9509713228492137, 0.9824236817761333, 1.1063829787234043, 1.9243197278911566, 1.6386054421768708, 1.7661564625850341, 1.9485714285714286, 1.8962765957446808, 1.7217391304347827, 0.6090909090909091, 0.8482886216466234, 1.0830917874396135, 1.3959296947271045, 1.259903381642512, 3.042232277526395, 3.805515239477504, 3.0015686274509803, 3.0638606676342524, 3.4390420899854863, 3.2104499274310596, 2.9208998548621192, 2.327285921625544, 2.3918722786647315, 1.7801161103047896, 3.2772133526850507, 3.6799709724238028, 3.372278664731495, 3.1973875181422353, 3.3403483309143684, 2.834087481146305, 2.8250377073906487, 2.828011611030479, 2.1734397677793904, 2.6734539969834086, 2.2933333333333334, 2.2219607843137257, 2.4, 2.688627450980392, 3.0297532656023223, 2.0525490196078433, 2.8368627450980393, 2.6048265460030167, 2.816400580551524, 2.579185520361991, 2.737945492662474, 3.06429070580014, 2.5693815987933637, 3.118798043326345, 2.806966618287373, 2.7300435413642963, 2.7336719883889695, 2.9112508735150247, 3.060796645702306, 2.7873730043541363, 3.2010159651669086, 2.574660633484163, 2.6070889894419307, 2.701741654571843, 3.2539912917271407, 5.347605224963716, 3.328011611030479, 4.120464441219158, 4.654571843251088, 3.178519593613933, 2.8679245283018866, 2.7699564586357037, 3.037010159651669, 2.77526395173454, 2.865747460087083, 3.0994194484760524, 3.450653120464441, 3.1262699564586356, 3.432510885341074, 4.229317851959362, 3.2851959361393326, 4.030478955007257, 3.5043541364296082, 3.357764876632801, 3.3011611030478956, 3.3708272859216257, 3.6320754716981134, 3.241654571843251, 3.450653120464441, 3.30188679245283, 3.341799709724238, 3.735123367198839, 5.174165457184325, 7.519916142557652, 6.612159329140461, 5.293178519593614, 5.272133526850508, 6.70020964360587, 5.830188679245283, 4.680696661828737, 3.3730043541364294]
second_degree =  [11, 10, 11, 9, 6, 10, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 4, 4, 5, 5, 5, 6, 6, 7, 4, 4, 4, 4, 6, 7, 6, 6, 7, 7, 8, 7, 7, 7, 6, 8, 7, 8, 10, 10, 8, 7, 8, 8, 10, 10, 10, 10, 10, 10, 9, 10, 11, 10, 10, 10, 10, 10, 11, 11, 10, 11, 10, 11, 10, 11, 11, 11, 10, 10, 15, 13, 13, 14, 13, 11, 10, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 11, 11, 10, 11, 12, 10, 11, 11, 11, 11, 12, 21, 19, 17, 15, 18, 17, 12, 11]
second_edge_number =  [171, 105, 112, 120, 54, 76, 76, 95, 94, 82, 91, 87, 90, 88, 89, 95, 80, 86, 81, 80, 84, 82, 85, 75, 81, 82, 96, 83, 64, 67, 59, 76, 73, 74, 76, 82, 105, 98, 103, 112, 105, 94, 57, 73, 81, 85, 95, 149, 168, 142, 150, 157, 162, 139, 134, 128, 119, 162, 183, 181, 176, 170, 153, 148, 159, 130, 157, 138, 140, 137, 141, 162, 129, 153, 150, 155, 151, 157, 173, 141, 171, 153, 149, 153, 166, 177, 156, 173, 149, 150, 159, 176, 239, 186, 191, 223, 175, 161, 157, 165, 143, 160, 154, 165, 161, 171, 194, 166, 182, 171, 164, 161, 168, 172, 161, 173, 162, 167, 191, 234, 336, 300, 242, 235, 301, 261, 207, 178]
second_nature_connecty = [6.59074659202345, 3.6985945278957217, 4.122787219476909, 4.1321497539008405, 1.563381262379391, 3.057075206719124, 2.061789729233848, 2.4805690933562263, 2.6915865217293873, 2.1647989036543467, 2.555443535709011, 2.4412689564117778, 2.650966083200545, 2.6540578663014758, 2.8834310920468207, 3.2440140903654755, 2.60243198753703, 2.8555071352959653, 2.6281136823395013, 2.563200883071968, 2.6958931293676156, 2.4786268903336013, 2.584789390210646, 2.1932912308756234, 2.495453314818714, 2.682786102666094, 3.336245951177519, 2.4979618719155474, 1.7779656200102716, 1.839754187633948, 1.5402261293066657, 1.9773732949672005, 1.9638175443413477, 2.0045385865770875, 2.0421011439772734, 2.2001539123382705, 3.4165260435443767, 3.019645527924157, 3.520456792863089, 3.794906652915807, 3.80475964457963, 3.2644868937949822, 1.3775742615564208, 1.8544316337704807, 2.144681463114032, 2.2899176603750697, 2.895961336034344, 4.596208353211525, 5.4689585185880505, 4.494733068873988, 4.753242904674441, 4.997490257471233, 5.558237637206483, 4.394590305526182, 4.254821817155993, 3.913547479428613, 3.2081890738445784, 5.124025079942651, 6.167722630106781, 6.651951295780883, 6.152217516634455, 6.013229792108537, 5.482350304651623, 4.953596925933641, 5.234698441053704, 3.9349816374503575, 5.507592379404058, 4.654731986044997, 4.937427700924702, 4.708272321592224, 4.799706555162483, 5.688252004610372, 4.2396211666926416, 5.617671432284067, 5.442377862191904, 5.900479057191879, 5.699026488823596, 5.831893133908621, 6.688612381124022, 5.106045538352273, 6.543873062813374, 5.757077570427576, 5.604981642595658, 5.7939732037063925, 6.3736974364571415, 6.8367420803463235, 5.712049068532768, 6.691520400089021, 5.459572469022494, 5.50764687060864, 6.057426172708518, 6.651876669393322, 8.765076292318133, 6.657883513697992, 6.790244314546013, 8.289117183765724, 6.611070908490697, 6.04799491780723, 5.780507769780045, 5.946418031874703, 5.148821113170221, 5.930395130514502, 5.504027295238142, 5.842045492436123, 5.7939514907620255, 6.211176976986054, 7.073997368901266, 5.6983735108459905, 6.634285108243035, 6.091289192079102, 5.912286363738825, 5.846004224818431, 5.997891488453305, 6.072633172101554, 5.710413006123163, 6.223330329610104, 5.788966862513355, 6.151960599034649, 7.196886538413552, 8.653115998277727, 12.42715271785109, 11.0883161539936, 8.892177134626872, 8.514667052268393, 11.132941417013193, 9.524617501089384, 7.5757462288713775, 6.577679390828918]



#石家庄三阶
third_average =   [2.785199907823482, 1.9126984126984128, 1.8455766558591942, 1.8413953196561892, 0.3360066833751044, 0.3469245816126929, 0.4789961811238407, 1.100595932115559, 1.4809561752988047, 1.3264310602289697, 1.5335458167330678, 1.5192960689565105, 1.7301602975543926, 1.7068524970963996, 1.7046180178400974, 1.9212158808933002, 1.809645274291739, 1.8074000331840052, 1.7589609483960948, 1.7333333333333334, 1.7968176674325298, 1.8668823177806688, 2.082507458591955, 1.9052775922084315, 2.065673570724076, 2.2249654218533887, 2.7686030428769017, 2.2524058577405857, 1.4095847544038536, 1.405018400802944, 1.1933127681452327, 2.0781218376846793, 1.8638675142188024, 1.8843425894948143, 1.9716962194713952, 2.072841844064255, 2.432601373234875, 2.3864738955823293, 2.3613482577626006, 2.4105339105339105, 2.0909313725490195, 2.065357617150446, 1.4553509208561473, 2.2685126534551925, 2.356259914399449, 2.788646577986909, 3.3074250074250076, 4.357037123037181, 4.59327199373059, 3.9491771398717095, 4.018272914824639, 4.001974653698792, 3.7213675213675215, 3.2560250957681056, 2.9752963532711973, 2.7216378891050583, 2.4927419113465623, 3.558221396187097, 3.86546598056032, 3.514036592338479, 3.1713150801532133, 2.9043668625417673, 2.540823730879749, 2.44731069579714, 2.6517980344118723, 2.226273230245425, 2.359171513689885, 2.0947727204174584, 2.086971060311284, 1.9631857771392656, 2.0467303282733, 2.6132465996451804, 2.148666299016051, 2.3397568844336907, 2.076084607071175, 2.0528948587308937, 2.0506098502393084, 2.094489838675885, 2.477844482561464, 2.0239797303411455, 2.4165340406719715, 2.0974586575875485, 2.0324297407488094, 2.061871712676232, 2.2536294503975114, 2.626500857632933, 2.219063496241701, 2.2704554030128, 1.9566158479201958, 1.9727755644090306, 2.1484375, 2.6790700374423126, 4.65799329785137, 3.438021726700972, 3.4525748333096895, 3.6835048599199545, 2.4736041648387004, 2.133846060311284, 1.9930501930501932, 2.3415957971729604, 1.9677206851119895, 1.9984616724233013, 1.965102140077821, 2.2070400868699664, 2.105078705078705, 2.2433172024426775, 2.9058873599092068, 2.4468134889298354, 2.27770154373928, 2.097980397980398, 1.9858729161054742, 2.0672832300739277, 2.229560860595343, 2.313586796345417, 1.992188201490527, 2.080138048024334, 1.9813483813483814, 2.131872736523899, 2.5025006580679126, 3.683926798127394, 7.329672495846357, 5.995944918475965, 4.736194418630847, 4.251808767201021, 5.32086820825649, 4.0794155199319055, 2.686094099207616, 2.4158418715351346]
third_degree =  [11, 10, 11, 9, 6, 10, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 4, 4, 5, 5, 5, 6, 6, 7, 4, 4, 4, 4, 6, 7, 6, 6, 7, 7, 8, 7, 7, 7, 6, 8, 7, 8, 10, 10, 8, 7, 8, 8, 10, 10, 10, 10, 10, 10, 9, 10, 11, 10, 10, 10, 10, 10, 11, 11, 10, 11, 10, 11, 10, 11, 11, 11, 10, 10, 15, 13, 13, 14, 13, 11, 10, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 11, 11, 10, 11, 12, 10, 11, 11, 11, 11, 12, 21, 19, 17, 15, 18, 17, 12, 11]
third_edge_number =   [886, 633, 691, 695, 283, 324, 402, 551, 578, 522, 569, 553, 581, 581, 617, 683, 606, 625, 579, 575, 602, 609, 667, 615, 663, 714, 875, 720, 511, 552, 489, 668, 628, 634, 666, 715, 805, 817, 816, 834, 822, 769, 546, 727, 765, 846, 975, 1213, 1298, 1143, 1166, 1182, 1135, 966, 926, 829, 747, 1035, 1220, 1096, 1012, 927, 837, 798, 863, 734, 774, 682, 672, 651, 680, 808, 697, 749, 673, 660, 657, 694, 806, 672, 751, 670, 649, 660, 728, 827, 719, 764, 663, 666, 735, 901, 1388, 1075, 1102, 1177, 855, 737, 707, 769, 658, 709, 671, 721, 718, 756, 907, 761, 793, 713, 688, 684, 717, 745, 677, 708, 683, 704, 822, 1163, 1900, 1604, 1284, 1252, 1572, 1287, 894, 794]
third_nature_connecty  =  [9.030005070479158, 5.857443585777959, 6.982853441837309, 7.890896009745226, 3.4463259059063955, 2.726576915525818, 3.4644185052062832, 5.256241073626263, 5.353579912262854, 4.412727045619549, 5.364843987342249, 5.121044926362206, 5.506763678029886, 5.580764575738231, 6.6188894856102705, 7.6040114704874116, 6.588477840890029, 6.688163997169986, 6.103502811874645, 6.228370966649878, 6.9742033178703675, 7.22571511319442, 7.995430423220941, 7.483980024307248, 8.01534154136158, 9.41931972680569, 12.03506825480248, 9.298525494310097, 4.869501547015253, 5.575324924896701, 5.609289177523862, 8.825474489599781, 8.435434864403593, 8.663335035320054, 9.412584440908338, 9.890758877357323, 10.874745302937248, 11.006952740491611, 10.481286903069098, 10.09239334086458, 9.186245778223135, 8.629467593576148, 5.006722755988464, 6.707980162924443, 6.42451477582264, 8.079897304963849, 10.181972770900115, 13.056440288847575, 15.027734537988154, 13.589139422563171, 14.428240219900074, 14.57616157035667, 14.657146406332021, 11.746122349228752, 11.669654957679738, 10.14155976813703, 7.851182071313684, 10.452543040105361, 15.05533865719892, 13.496851545210639, 12.44829818806121, 11.487662401069892, 10.050927138567353, 8.93261096997968, 9.09548005509796, 7.241188076272379, 8.243054193796397, 7.0698329542521785, 7.1061858161211715, 6.588190008260898, 6.747950753328206, 8.181187193269794, 6.65381741240908, 7.901763520026663, 6.994191794133414, 6.921307568029018, 6.912976814832308, 7.4550469596440045, 8.846072518476328, 6.820538850512398, 8.378784306965905, 7.3807197743056685, 6.951842179596654, 7.205517875395787, 7.954912531638952, 9.250063903606664, 7.290382901834547, 8.648999039812505, 6.920252152965989, 7.102735496798845, 8.288304967280022, 10.346960899666906, 14.72598114910934, 11.21199867430409, 11.172498470157407, 13.222253257646594, 10.02789219576696, 8.206181943814792, 7.402816145343846, 7.729064742315294, 6.429880932439893, 7.374170386598049, 6.836402434873684, 7.277755805803268, 7.249071767431881, 7.654271177791385, 9.586492917126366, 7.183250539837032, 8.321225221870437, 7.471490833390652, 7.141953245124328, 7.161826270102402, 7.338069050869679, 7.662548619962801, 6.946785194041526, 7.4816988835575104, 7.093123918085297, 7.638568766771035, 9.938491930084076, 13.587375719496478, 20.19423398862521, 17.463490329141127, 12.911726245576931, 13.236885124325294, 17.7146045847489, 15.301494699736729, 10.882346603765793, 8.939708715555064]



#石家庄四阶
fourth_average =  [2.4424545026954667, 1.5324683054580084, 1.4350117554858934, 1.569427377734087, 0.26250670343982224, 0.26043453401943967, 0.35217224144559783, 0.9055050380928975, 1.2377647992511345, 1.1968448617231908, 1.3527689030883918, 1.3160673607119286, 1.5080241587575496, 1.5030180649643912, 1.513404050144648, 1.764610084559975, 1.598512683989351, 1.6264858919582046, 1.5467217346411977, 1.5245673497789052, 1.6214046822742474, 1.6456228956228955, 1.851116032655897, 1.701786532295007, 1.8796726144639282, 2.0171039931763595, 2.4814706740589436, 2.0550471154498, 1.3917781417781419, 1.3695501129060275, 1.0462956513663486, 1.8552414451971513, 1.7756212707363452, 1.7968770764119602, 1.8783831672203766, 1.9230931934514996, 2.181981417684518, 2.252196024040684, 2.3319157763717455, 2.3084295895797493, 2.027352952920976, 1.7582944212337184, 1.2471313356501212, 2.35107037279527, 2.41413446470206, 2.7679356342927033, 3.218718150875911, 4.09864250018647, 4.103322891027076, 3.620911680911681, 3.618425860046536, 3.5067616334283, 3.369528816199377, 2.9213340475765333, 2.6727377338650475, 2.4247893622968495, 2.217448993327308, 3.140996418104852, 3.3626784562954777, 3.128543796628903, 2.831077049302603, 2.5697404436054745, 2.302010382255781, 2.2230863614912693, 2.358076639513765, 2.0547297798205943, 2.1536336004421113, 1.9176278070227322, 1.9369097850110508, 1.7687976680110211, 1.8241027405114092, 2.3734029774687877, 1.9575216814414553, 2.1322864486595, 1.8673082298446673, 1.8452532605398848, 1.8526019690576652, 1.8814297825358333, 2.30174535690311, 1.799873023431145, 2.1726823452493127, 1.8821001163226276, 1.828127225738182, 1.836511263507051, 2.0047466276430086, 2.3277945619335347, 1.8719325725367346, 1.8688931722143969, 1.6088969770498434, 1.663600659327242, 1.92909152233002, 2.3919619152247553, 4.267501776830135, 3.2381689232753064, 3.1978925032817247, 3.232877455769022, 2.1461797194511334, 1.8514554965459409, 1.6956504702194357, 1.9806701274185936, 1.635274007447956, 1.7517677636356688, 1.787373767434478, 2.0828606041959117, 2.07641866815376, 2.0493026031177743, 2.737454321791671, 2.0230952514962195, 1.9210473313192347, 1.735399880776109, 1.7057826146960824, 1.748169781931464, 1.9723076923076923, 2.0589669987429877, 1.7212186520376176, 1.7849002849002849, 1.702880094043887, 1.7617445147395343, 2.055213694338778, 3.0958066500235173, 6.346354575762336, 5.233736589819676, 4.383389854458104, 3.851486216755678, 4.578713574982232, 3.3806800812788835, 2.180091185410334, 1.9730438886267108]
fourth_degree =  [11, 10, 11, 9, 6, 10, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 4, 4, 5, 5, 5, 6, 6, 7, 4, 4, 4, 4, 6, 7, 6, 6, 7, 7, 8, 7, 7, 7, 6, 8, 7, 8, 10, 10, 8, 7, 8, 8, 10, 10, 10, 10, 10, 10, 9, 10, 11, 10, 10, 10, 10, 10, 11, 11, 10, 11, 10, 11, 10, 11, 11, 11, 10, 10, 15, 13, 13, 14, 13, 11, 10, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 11, 11, 10, 11, 12, 10, 11, 11, 11, 11, 12, 21, 19, 17, 15, 18, 17, 12, 11]
fourth_edge_number =  [1040, 759, 814, 811, 328, 391, 479, 659, 678, 609, 664, 646, 680, 685, 729, 806, 718, 746, 687, 684, 715, 722, 790, 725, 783, 838, 1025, 847, 615, 660, 578, 791, 744, 750, 783, 844, 950, 959, 957, 968, 955, 889, 642, 880, 935, 1028, 1168, 1433, 1520, 1344, 1363, 1385, 1325, 1128, 1081, 968, 886, 1213, 1416, 1281, 1184, 1085, 988, 945, 1018, 870, 913, 803, 787, 761, 799, 952, 822, 878, 787, 765, 765, 801, 939, 782, 867, 775, 750, 757, 842, 976, 847, 891, 776, 776, 854, 1055, 1646, 1273, 1295, 1380, 1008, 864, 825, 894, 775, 832, 791, 871, 855, 906, 1070, 898, 927, 830, 802, 797, 842, 878, 795, 827, 792, 815, 944, 1322, 2196, 1853, 1494, 1438, 1798, 1465, 1022, 909]
fourth_nature_connecty =  [8.81338649857901, 5.652344558839637, 6.766194697801038, 7.688894091544499, 3.291273250465228, 2.6364996023371376, 3.32338916605464, 5.0534817749268255, 5.1502363557860305, 4.22474807379372, 5.1675367885632895, 4.933913401712471, 5.326923971595538, 5.398875717910284, 6.425761793615227, 7.4089601815252735, 6.4402728686011335, 6.499053207506445, 5.922760679668958, 6.053991860239493, 6.8233185343442395, 7.0562494072636825, 7.863500961046402, 7.393208169112346, 7.956241349054335, 9.493431931147137, 12.412041520729293, 9.402183302138756, 4.703068060093883, 5.400514733503271, 5.4315394903898895, 8.989842923212592, 8.728248887405371, 8.878271830311249, 9.588187349084501, 10.173921898705627, 11.21946645483192, 11.397239152869021, 10.696561093171786, 10.144955086620529, 9.12029377217521, 8.494041216779697, 4.816019996586697, 6.523271389451266, 6.245329036084926, 7.906948205943203, 10.085399341537984, 13.308834226654092, 15.378642045813677, 14.058761246865627, 14.927772540840694, 15.059801586806705, 15.114824582983, 11.943985306692522, 11.837205835242035, 10.246742122871138, 7.954856619213452, 10.522999742342213, 15.294297762899607, 13.707523416206685, 12.711515388738484, 11.679709585586455, 10.23048024484656, 9.046616615260778, 9.143606549588089, 7.291421247128057, 8.21287085635726, 7.0819962635831235, 7.097852265091568, 6.590540919062711, 6.730300735044097, 8.099321014456756, 6.603131442715224, 7.798715702541162, 6.90735436202462, 6.787307014693482, 6.732240853069171, 7.324276042699887, 8.659390726754483, 6.647469977466888, 8.189947151511744, 7.18780568689788, 6.765652709323434, 7.0161061384251955, 7.772582715858122, 9.058755940825527, 7.09157899510088, 8.451911097575305, 6.725952010085973, 6.901586897933524, 8.132037978750589, 10.43020825839988, 15.061416175342833, 11.519807928060304, 11.051451082792685, 13.309372934312087, 10.465699119573344, 8.38363644966847, 7.27130037979144, 7.533380732937496, 6.235797290237713, 7.196472931912862, 6.66525717459646, 7.196205265280068, 7.0964553812539375, 7.4963466155851455, 9.494440221883837, 6.998412858049604, 8.111511607772885, 7.2672569430382294, 6.948344313329352, 6.964292086531328, 7.134472277461536, 7.453763022519027, 6.754961802072145, 7.282274006646639, 6.9019488620496245, 7.426845198032006, 9.71945154536227, 13.395569292977124, 20.14582048866835, 17.28757612933034, 12.688114336358097, 13.01963722851079, 17.554552278320543, 15.128366394074042, 10.661857558235349, 8.73169392316794]



#一阶 西安
平均点 连通性：  [0.6538461538461539, 0.6538461538461539, 0.7051282051282052, 0.6538461538461539, 0.7051282051282052, 0.6538461538461539, 0.3974358974358974, 0.34615384615384615, 0.1794871794871795, 0.16666666666666666, 0.07692307692307693, 0.07692307692307693, 0.07692307692307693, 0.038461538461538464, 0.01282051282051282, 0.01282051282051282, 0.01282051282051282, 0.01282051282051282, 0.01282051282051282, 0.0, 0.0, 0.0, 0.0, 0.0, 0.01282051282051282, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.01282051282051282, 0.01282051282051282, 0.01282051282051282, 0.07692307692307693, 0.2692307692307692, 0.1282051282051282, 0.46153846153846156, 0.5, 0.46153846153846156, 0.46153846153846156, 0.46153846153846156, 0.7051282051282052, 0.7051282051282052, 0.5769230769230769, 0.6538461538461539, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334]
城市度：  [9, 9, 9, 9, 9, 9, 7, 6, 4, 4, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 8, 8, 8, 8, 10, 10, 9, 9, 10, 10, 10]
边数量：  [11, 11, 12, 11, 12, 11, 8, 8, 6, 5, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 9, 8, 8, 8, 10, 10, 9, 11, 13, 13, 13]
自然连通度：  [1.093263735940483, 1.093263735940483, 1.2146904097116997, 1.093263735940483, 1.2146904097116997, 1.093263735940483, 0.7892019522813887, 0.8138191641414112, 0.5543191435532049, 0.5051321525487218, 0.258163434409168, 0.258163434409168, 0.258163434409168, 0.16658082621706116, 0.08024348772632145, 0.08024348772632145, 0.08024348772632145, 0.08024348772632145, 0.08024348772632145, 0.0, 0.0, 0.0, 0.0, 0.0, 0.08024348772632145, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.08024348772632145, 0.08024348772632145, 0.08024348772632145, 0.258163434409168, 0.5560389732445546, 0.3541389593167984, 0.7664667857883916, 0.8881394887831195, 0.7664667857883916, 0.7664667857883916, 0.7664667857883916, 0.9808294109436657, 0.9808294109436657, 0.8733936368326821, 1.093263735940483, 1.3047589003500266, 1.3047589003500266, 1.3047589003500266]

#二阶 西安
平均点连通性：  [0.03434343434343434, 0.03434343434343434, 0.037037037037037035, 0.03434343434343434, 0.037037037037037035, 0.03434343434343434, 0.020875420875420877, 0.01818181818181818, 0.009427609427609427, 0.008754208754208754, 0.00404040404040404, 0.00404040404040404, 0.00404040404040404, 0.00202020202020202, 0.0006734006734006734, 0.0006734006734006734, 0.0006734006734006734, 0.0006734006734006734, 0.0006734006734006734, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0006734006734006734, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0006734006734006734, 0.0006734006734006734, 0.0006734006734006734, 0.00404040404040404, 0.014141414141414142, 0.006734006734006734, 0.024242424242424242, 0.026262626262626262, 0.024242424242424242, 0.024242424242424242, 0.024242424242424242, 0.037037037037037035, 0.037037037037037035, 0.030303030303030304, 0.03434343434343434, 0.04377104377104377, 0.04377104377104377, 0.04377104377104377]
城市度：  [9, 9, 9, 9, 9, 9, 7, 6, 4, 4, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 8, 8, 8, 8, 10, 10, 9, 9, 10, 10, 10]
边数量：  [11, 11, 12, 11, 12, 11, 8, 8, 6, 5, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 9, 8, 8, 8, 10, 10, 9, 11, 13, 13, 13]
自然连通度：  [0.38454431108070664, 0.38454431108070664, 0.4446888585716797, 0.38454431108070664, 0.4446888585716797, 0.38454431108070664, 0.24999865962825057, 0.26004863308349896, 0.16134272735894867, 0.14439402185796532, 0.06730437808689103, 0.06730437808689103, 0.06730437808689103, 0.04195067420687383, 0.01955591718001052, 0.01955591718001052, 0.01955591718001052, 0.01955591718001052, 0.01955591718001052, 0.0, 0.0, 0.0, 0.0, 0.0, 0.01955591718001052, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.01955591718001052, 0.01955591718001052, 0.01955591718001052, 0.06730437808689103, 0.16194525400868168, 0.09571326189742946, 0.24084678462554543, 0.29128252763041546, 0.24084678462554543, 0.24084678462554543, 0.24084678462554543, 0.3321339064353209, 0.3321339064353209, 0.2849782931447007, 0.38454431108070664, 0.4916806274232862, 0.4916806274232862, 0.4916806274232862]

#三阶 西安
平均点连通性：  [0.004953379953379953, 0.004953379953379953, 0.005341880341880342, 0.004953379953379953, 0.005341880341880342, 0.004953379953379953, 0.003010878010878011, 0.0026223776223776225, 0.0013597513597513598, 0.0012626262626262627, 0.0005827505827505828, 0.0005827505827505828, 0.0005827505827505828, 0.0002913752913752914, 9.712509712509713e-05, 9.712509712509713e-05, 9.712509712509713e-05, 9.712509712509713e-05, 9.712509712509713e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 9.712509712509713e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 9.712509712509713e-05, 9.712509712509713e-05, 9.712509712509713e-05, 0.0005827505827505828, 0.0020396270396270395, 0.0009712509712509713, 0.0034965034965034965, 0.003787878787878788, 0.0034965034965034965, 0.0034965034965034965, 0.0034965034965034965, 0.005341880341880342, 0.005341880341880342, 0.004370629370629371, 0.004953379953379953, 0.006313131313131313, 0.006313131313131313, 0.006313131313131313]
城市度：  [9, 9, 9, 9, 9, 9, 7, 6, 4, 4, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 8, 8, 8, 8, 10, 10, 9, 9, 10, 10, 10]
边数量：  [11, 11, 12, 11, 12, 11, 8, 8, 6, 5, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 9, 8, 8, 8, 10, 10, 9, 11, 13, 13, 13]
自然连通度：  [0.16476064271721763, 0.16476064271721763, 0.19383065450023776, 0.16476064271721763, 0.19383065450023776, 0.16476064271721763, 0.10299085559835146, 0.10744973113266529, 0.06473264224864997, 0.057637541579906616, 0.026243948486129515, 0.026243948486129515, 0.026243948486129515, 0.016231218684662558, 0.007514482020983266, 0.007514482020983266, 0.007514482020983266, 0.007514482020983266, 0.007514482020983266, 0.0, 0.0, 0.0, 0.0, 0.0, 0.007514482020983266, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.007514482020983266, 0.007514482020983266, 0.007514482020983266, 0.026243948486129515, 0.06498616064343447, 0.037646233004702906, 0.09895211581328009, 0.12146662933311154, 0.09895211581328009, 0.09895211581328009, 0.09895211581328009, 0.1401644709006527, 0.1401644709006527, 0.11861802024091693, 0.16476064271721763, 0.21717243353269536, 0.21717243353269536, 0.21717243353269536]


#四阶 西安

平均点连通性：  [0.0022802468031834036, 0.0022802468031834036, 0.002459089689707592, 0.0022802468031834036, 0.002459089689707592, 0.0022802468031834036, 0.0013860323705624609, 0.0012071894840382724, 0.0006259501028346597, 0.0005812393812036126, 0.00026826432978628275, 0.00026826432978628275, 0.00026826432978628275, 0.00013413216489314137, 4.4710721631047124e-05, 4.4710721631047124e-05, 4.4710721631047124e-05, 4.4710721631047124e-05, 4.4710721631047124e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 4.4710721631047124e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.4710721631047124e-05, 4.4710721631047124e-05, 4.4710721631047124e-05, 0.00026826432978628275, 0.0009389251542519896, 0.00044710721631047124, 0.0016095859787176965, 0.0017437181436108379, 0.0016095859787176965, 0.0016095859787176965, 0.0016095859787176965, 0.002459089689707592, 0.002459089689707592, 0.002011982473397121, 0.0022802468031834036, 0.0029061969060180633, 0.0029061969060180633, 0.0029061969060180633]

城市度：  [9, 9, 9, 9, 9, 9, 7, 6, 4, 4, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 8, 8, 8, 8, 10, 10, 9, 9, 10, 10, 10]
边数量：  [11, 11, 12, 11, 12, 11, 8, 8, 6, 5, 3, 3, 3, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 6, 4, 8, 9, 8, 8, 8, 10, 10, 9, 11, 13, 13, 13]

自然连通度：  [0.11480991291276281, 0.11480991291276281, 0.13565285783076897, 0.11480991291276281, 0.13565285783076897, 0.11480991291276281, 0.07109702275607285, 0.07422592704472869, 0.04442223746964918, 0.03950939892543956, 0.017900870418457178, 0.017900870418457178, 0.017900870418457178, 0.01105362221453828, 0.005110322247044879, 0.005110322247044879, 0.005110322247044879, 0.005110322247044879, 0.005110322247044879, 0.0, 0.0, 0.0, 0.0, 0.0, 0.005110322247044879, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.005110322247044879, 0.005110322247044879, 0.005110322247044879, 0.017900870418457178, 0.04459797871270356, 0.025724713854852522, 0.06826653290897747, 0.08408897754348742, 0.06826653290897747, 0.06826653290897747, 0.06826653290897747, 0.09730934712517099, 0.09730934712517099, 0.08208122641292852, 0.11480991291276281, 0.15251214667248084, 0.15251214667248084, 0.15251214667248084]



#五阶 西安

# 日期时间递增 格式yyyymmdd
def getdaylist(beginDate,endDate):
    beginDate = datetime.datetime.strptime(str(beginDate), "%Y%m%d")
    endDate = datetime.datetime.strptime(str(endDate), "%Y%m%d")
    dayList = []
    while beginDate <= endDate:
        dayList.append(datetime.datetime.strftime(beginDate, "%Y%m%d"))
        beginDate += datetime.timedelta(days=+1)
    return dayList


# 根据路径画图
def drawpicture(filePath):
    """
    输入文件路径最后绘制成图G
    """
    global dataMiga
    G = nx.Graph()
    try:
        dataMiga = pd.read_csv(filePath)
    except Exception as problem:
        print("error根据路径画图出现问题：", problem)
    # 得到每一行的数据
    for row in dataMiga.itertuples():
        city_name = getattr(row, "city_name")
        city_id_name = getattr(row, "city_id_name")
        num = getattr(row, "num")
        G.add_edges_from([(city_name, city_id_name)])
    return G








def draw_every_indeicators(beginData,endData,first_data,second_data,third_data,fourth_data):
    listXData = getdaylist(beginData,endData)
    # 画图 设置X轴显示效果
    fig = plt.figure(figsize=(10, 4))
    ax = fig.add_subplot(111)
    # 为了设置x轴时间的显示
    def format_fn(tick_val, tick_pos):
        if int(tick_val) in range(len(listXData)):
            return listXData[int(tick_val)]
        else:
            return ''

    #
    ax.xaxis.set_major_formatter(FuncFormatter(format_fn))
    ax.xaxis.set_major_locator(MaxNLocator(integer=True))

    # plt.ylim((-5, 40))
    # 横坐标每个值旋转90度
    # plt.xticks(rotation=90)

    plt.rcParams['font.sans-serif'] = ['SimHei']
    # 坐标轴ticks的字体大小
    ax.set_xlabel('日期', fontsize=14)  # 为x轴添加标签
    ax.set_ylabel('数值', fontsize=14)  # 为y轴添加标签  数值


    # 根据需要设置最大最小值，这里设置最大值为1.最小值为0
    # 数据归一化
    tool = MinMaxScaler(feature_range=(0, 1))


    first_data = tool.fit_transform(array(first_data).reshape(-1,1)).tolist()
    second_data = tool.fit_transform(array(second_data).reshape(-1,1)).tolist()
    third_data = tool.fit_transform(array(third_data).reshape(-1,1)).tolist()
    fourth_data = tool.fit_transform(array(fourth_data).reshape(-1,1)).tolist()




    plt.plot(listXData, first_data, "4-", linewidth=2,  label='一阶')
    plt.plot(listXData, second_data, "1--", linewidth=1,  label='二阶')
    plt.plot(listXData, third_data, ".-", linewidth=1,  label='三阶')
    plt.plot(listXData, fourth_data, ".-", linewidth=1,  label='四阶')


    plt.scatter(6, 1, s=50, color='cyan')
    plt.plot([6, 6], [1, 0], 'x--', lw=1.5)
    plt.text(0, 0.90, r'石家庄封城开始', fontdict={'size': '14', 'color': 'black'})

    plt.scatter(28, 1, s=50, color='cyan')
    plt.plot([28, 28], [1, 0], 'x--', lw=1.5)
    plt.text(27, 0.90, r'石家庄封城结束', fontdict={'size': '14', 'color': 'black'})


    ax.legend()
    plt.show()




#
# plt.rcParams["font.sans-serif"]=["SimHei"] #设置字体
# plt.rcParams["axes.unicode_minus"]=False #该语句解决图像中的“-”负号的乱码问题
# plt.rcParams['figure.figsize']= (24, 24)
# filePath = "F:\封城数据处理\封城数据\石家庄\石家庄二阶\garbage_self_network" \
#            "\deal_03\\20210101_石家庄.csv"
#
#
# G = drawpicture(filePath)
# pos = nx.circular_layout(G)
#
# pos["石家庄"]=[0,0]
# nx.draw(G,pos,with_labels = True,node_size=40)
# plt.show()


if __name__ == '__main__':
    draw_every_indeicators(20210101,20210508,first_average,second_average,third_average,fourth_average)
    draw_every_indeicators(20210101,20210508,first_degree,second_degree,third_degree,fourth_degree)
    draw_every_indeicators(20210101,20210508,first_nature_connecty,second_nature_connecty,third_nature_connecty,fourth_nature_connecty)
    draw_every_indeicators(20210101,20210508,first_edge_number,second_edge_number,third_edge_number,fourth_edge_number)
